<div class="backButton" (click)="onBackClick()">< Back</div>

<div class="signUp">
  <h4 class="usernamePassGroup">All Fields Are Required</h4>
  <form [formGroup]="form">
    <div class="row">
      <mat-form-field class="col-6">
        <mat-label>First Name</mat-label>
        <input
          matInput
          formControlName="firstName"
          id="firstName"
          type="text"
          name="firstName"
          placeholder="First Name"
        />
        <mat-error *ngIf="form.controls['firstName'].invalid">{{
          getErrorMessage()
        }}</mat-error>
      </mat-form-field>
      <mat-form-field class="col-6">
        <mat-label>Last Name</mat-label>
        <input
          matInput
          formControlName="lastName"
          id="lastName"
          type="text"
          name="lastName"
          placeholder="Last Name"
        />
        <mat-error *ngIf="form.controls['lastName'].invalid">{{
          getErrorMessage()
        }}</mat-error>
      </mat-form-field>

      <mat-form-field class="col-6">
        <mat-label>Organization</mat-label>
        <input
          matInput
          formControlName="organization"
          id="organization"
          type="text"
          name="organization"
          placeholder="Organization"
        />
        <mat-error *ngIf="form.controls['organization'].invalid">{{
          getErrorMessage()
        }}</mat-error>
      </mat-form-field>
      <mat-form-field class="col-6">
        <mat-label>Email</mat-label>
        <input
          matInput
          formControlName="email"
          id="email"
          type="text"
          name="email"
          placeholder="user@example.com"
          pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}"
          required
        />
        <mat-error *ngIf="form.controls['email'].hasError('required')">{{
          getErrorMessage()
        }}</mat-error>
        <mat-error *ngIf="form.controls['email'].hasError('email')"
          >Invalid email format</mat-error
        >
      </mat-form-field>
    </div>
    <div class="usernamePassGroup col-12">
      <mat-form-field>
        <mat-label>Username</mat-label>
        <input
          matInput
          formControlName="username"
          id="username"
          type="text"
          name="username"
          placeholder="Your username here"
        />
        <mat-error *ngIf="form.controls['username'].invalid">{{
          getErrorMessage()
        }}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Password</mat-label>
        <input
          matInput
          formControlName="password"
          id="password"
          type="password"
          name="password"
        />
        <mat-error *ngIf="form.controls['password'].invalid">{{
          getErrorMessage()
        }}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Confirm Password</mat-label>
        <input
          matInput
          formControlName="confirmPassword"
          id="confirmPassword"
          type="password"
          name="confirmPassword"
        />
        <mat-error *ngIf="form.controls['password'].invalid">{{
          getErrorMessage()
        }}</mat-error>
      </mat-form-field>
    </div>

    <div class="usernamePassGroup">
      <mat-checkbox color="primary" formControlName="waiverAccepted"
        >I agree to the terms of the</mat-checkbox
      >
    </div>

    <div class="usernamePassGroup">
      <div (click)="onLiabilityClick()" class="liability-waiver-link">
        liability waiver.
      </div>
    </div>
  </form>

  <!--  {{ form.value | json}}-->
  <!--  Valid: {{ form.valid | json}}-->
  <!--  Touched: {{ form.touched | json}}-->

  <br />
  <div class="usernamePassGroup col-12">
    <button
      mat-raised-button
      color="primary"
      class="button"
      [disabled]="!form.valid"
      (click)="onCreateAccountClicked()"
    >
      Create Account
    </button>
  </div>
</div>
<jw-modal id="custom-modal-2">
  <h1 style="height: 100px">Waiver of Liability Release Form</h1>
  <p>
    “I have enrolled the in gym use program offered through GDCI. I recognize
    that I am responsible for my safety and well-being while using the gym and
    the subsequent equipment. I hereby affirm that I am in good physical
    condition and do not suffer from any known disability or condition which
    would prevent or limit my ability to use the machines and equipment as
    intended. I acknowledge that my enrollment and participation is purely
    voluntary and in no way mandated by GDCI.” “In consideration of my
    participation in the use of GDCI’s gym, I hereby release GDCI and its agents
    from any claims, demands, and causes of action as a result of my voluntary
    participation and enrollment.” “I fully understand that I may injure myself
    as a result of my enrollment and subsequent participation in the use of this
    gym and I hereby release GDCI and its agents from any liability now or in
    the future for conditions that I may obtain. These conditions may include,
    but are not limited to, heart attacks, muscle strains, muscle pulls, muscle
    tears, broken bones, shin splints, heat prostration, injuries to knees,
    injuries to back, injuries to foot, or any other illness or soreness that I
    may incur, including death.”
  </p>
  <h2>
    <b>
      I HEREBY AFFIRM THAT I HAVE READ AND FULLY UNDERSTAND THE ABOVE
      STATEMENTS.
    </b>
  </h2>
  <button
    mat-raised-button
    color="warn"
    class="acceptFormAndClose"
    (click)="acceptAndCloseModal('custom-modal-2')"
  >
    Close
  </button>
</jw-modal>

<button
  mat-raised-button
  class="helpButton"
  [routerLink]="['/help']"
  fragment="signup"
  class="helpButton"
>
  Need Help?
</button>
